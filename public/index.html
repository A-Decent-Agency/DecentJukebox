<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://*.ipfs.w3s.link; style-src 'self' 'unsafe-inline';"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web3 JukeBox</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./about-modal.css">
    <link rel="icon" href="./favicon.ico">
    <script src="./ethers.umd.min.js"></script>
</head>
<body>
    <!-- Wallet Display -->
    <div id="wallet-display" class="wallet-display hidden"></div>

    <!-- Contract Display -->
    <div id="contract-display" class="hidden">
        <a href="#" target="_blank" id="contract-link">View Contract</a>
    </div>


    <!-- Landing Page Video -->
    <div id="landing" class="video-container">
        <video autoplay muted loop id="landing-video">
            <source src="./landing.mp4" type="video/mp4">
        </video>
        <button id="connect-wallet" class="centered-button">Connect Wallet</button>
        <button id="enter-controls" class="centered-button hidden">Enter Jukebox</button>
        
    </div>

    <!-- Controls View -->
    <div id="controls" class="video-container hidden">
        <video autoplay muted id="controls-video">
            <source src="./controls.mp4" type="video/mp4">
        </video>

        <div id="lcd-screen-left" class="lcd-screen-left">
            <div id="album-list" class="scrollable-container"></div>
        </div>
        <div id="lcd-screen-right" class="lcd-screen-right">
            <div id="song-list" class="scrollable-container"></div>
        </div>
        <div class="right-lcd-buttons">
            <button id="play-song" >Play Song</button>
            <button id="play-album">Play Album</button>
        </div>

        
        <div class="controls-overlay">
            <button id="add-album">Add Album</button>
            <button id="add-token">Add Token</button>
            <button id="remove-token">Remove Token</button>
        </div>

        <!-- Add Album Modal -->
        <div id="add-album-modal" class="modal hidden">
            <div class="modal-content">
                <span id="modal-close" class="close-button">&times;</span>
                <h2>Add Album</h2>
                <p id="error-message" class="error-message"></p>
                <form>
                    <input id="album-name" type="text" placeholder="Album Name" required />
                    <input id="album-cid" type="text" placeholder="CID (IPFS)" required />
                    <input id="album-owner" type="text" placeholder="Album Owner Address" required />
                    <input id="payment-tokens" type="text" placeholder="Payment Tokens (comma-separated)" required />
                    <input id="play-fee" type="number" placeholder="Play Fee" step="any" required />
                    <input id="whole-album-fee" type="number" placeholder="Whole Album Fee" step="any" required />
                    <button type="button" id="submit-album">Submit</button>
                </form>
            </div>
        </div>



    </div>

    <!-- Spinning Record View -->
    <div id="record" class="video-container hidden">
        <video autoplay muted loop id="record-video">
            <source src="./spinning.mp4" type="video/mp4">
        </video>
        <audio id="audio-player" controls autoplay></audio>
        <button id="back-to-controls" class="centered-button">Back to Controls</button>
    </div>


    <!-- About Modal -->
    <div id="about-modal" class="about-modal hidden">
        <div class="modal-content">
            <span id="about-modal-close" class="close-button">&times;</span>
            <h1>About Decent JukeBox</h1>
            <p>This ain't your Grandma's Jukebox! Decent JukeBox is a Web3 JukeBox of the future.</p>
            <h2>To Load an Album:</h2>
            <p>
                Load some audio files onto IPFS and then pay the gas for Decent Jukebox to store the CID on a public ledger!
                You'll be asked to declare an album owner (wallet address). You'll also be asked to choose a single play fee
                and an album play fee - as well as to add a list of tokens you want to accept for payment. These amounts and
                token addresses are what it will cost to play your audio files back through the JukeBox. The JukeBox owner will
                retain a 10% fee, and 90% will go to the owner of the album.
            </p>
            <h2>To Play an Album:</h2>
            <p>
                You'll need to connect your metamask wallet to the JukeBox and then you can select an album from the list of albums
                that have been loaded. You'll be asked to pay the play fee in the token of your choice, and then the album
                will play. You can also pay the album fee, and the whole album will play through. The JukeBox will retain a
                10% fee, and 90% will go to the owner of the album.
            </p>
            <br>
            <h4>Inspect the contract at the address below:</h4>
            <a class="jukebox-home-link" href="https://polygonscan.com/address/0x180Cf8CB681a083A73c997809FF60Df857010bF9" target="_blank">
                A Decent JukeBox V1.1 on Polygon
            </a>
            <br>
            <br>
            <h4>Checkout the project GitHub at the address below:</h4>
            <a class="jukebox-home-link" href="https://github.com/TheJollyLaMa/JollyJukeBox" target="_blank">
                Jolly Decent JukeBox for MTCG on GitHub
            </a>
            <br><br>
            <h2>ðŸŽ¶ðŸŽ¶ Enjoy the Tunes! ðŸŽ¶ðŸŽ¶</h2>
            <!-- // back to jukebox button -->
            <a class="jukebox-home-link" href="#!/DecentJukeBox" style="text-decoration:none;">ðŸŽµ Back to the JukeBox ðŸŽµ</a>
            <br>
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>
</html>